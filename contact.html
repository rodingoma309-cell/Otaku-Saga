<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Otaku Saga - Contact</title>
    <link rel="stylesheet" href="accueil.css" />
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  </head>

  <body>
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo">
          <h1>üéå Otaku Saga</h1>
        </div>
        <ul class="nav-menu">
          <li><a href="accueil.html">Accueil</a></li>
          <li><a href="actus.html">Actus</a></li>
          <li><a href="service.html">Service</a></li>
          <li><a href="contact.html" class="active">Contact</a></li>
          <li><a href="apropos.html">√Ä propos</a></li>
          <li><a href="#" id="logoutBtn" class="logout-btn">D√©connexion</a></li>
        </ul>
      </div>
    </nav>

    <main class="main-content">
      <section class="header-section">
        <h1 class="page-title">Contactez-nous</h1>
        <p class="page-subtitle">
          Nous sommes l√† pour r√©pondre √† toutes vos questions
        </p>
      </section>

      <section class="contact-section">
        <div class="contact-container">
          <div class="contact-info">
            <h2>Informations de Contact</h2>
            <div class="info-item">
              <div class="info-icon"></div>
              <div>
                <h3>Email</h3>
                <p>donatienngoma071@gmail.com et Syntychemambeko43@gmail.com</p>
                <p></p>
              </div>
            </div>
            <div class="info-item">
              <div class="info-icon"></div>
              <div>
                <h3>T√©l√©phone</h3>
                <p>+243850999448</p>
              </div>
            </div>
            <div class="info-item">
              <div class="info-icon"></div>
              <div>
                <h3>Adresse</h3>
                <p>123 Rue du Manga<br />75001 RDC, Kinshasa</p>
              </div>
            </div>
            <div class="info-item">
              <div class="info-icon"></div>
              <div>
                <h3>Horaires</h3>
                <p>Lundi - Vendredi: 9h - 18h<br />Samedi: 10h - 16h</p>
              </div>
            </div>
          </div>

          <form class="contact-form" id="contactForm">
            <h2>Envoyez-nous un message</h2>
            <div class="form-group">
              <label for="name">Nom complet</label>
              <input type="text" id="name" name="name" required />
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />
            </div>
            <div class="form-group">
              <label for="subject">Sujet</label>
              <input type="text" id="subject" name="subject" required />
            </div>
            <div class="form-group">
              <label for="message">Message</label>
              <textarea
                id="message"
                name="message"
                rows="6"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn-submit">Envoyer le message</button>
            <div id="formMessage" class="form-message"></div>
          </form>
        </div>
      </section>
    </main>

    <!-- EmailJS pour l'envoi d'emails -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script src="app.js"></script>
    <script>
      let emailjsAvailable = false;

      if (typeof emailjs !== "undefined") {
        try {
          emailjs.init("iR4Z9C1sHxvPzXZEg");
          emailjsAvailable = true;
        } catch (e) {
          console.log("EmailJS non configur√©, utilisation de mailto");
        }
      }

      function adresseAuth() {
        const emailAuth = localStorage.getItem("email");

        return "Adresse e-mail du fichier authentification : " + emailAuth;
      }
      const messageFinal = adresseAuth();

      document
        .getElementById("contactForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const form = this;
          const messageDiv = document.getElementById("formMessage");
          const submitBtn = form.querySelector(".btn-submit");

          // D√©sactiver le bouton pendant l'envoi
          submitBtn.disabled = true;
          submitBtn.textContent = "Envoi en cours...";

          // Pr√©parer les donn√©es

          const formData = {
            from_name: document.getElementById("name").value,
            from_email: document.getElementById("email").value,
            user_email: localStorage.getItem("email"),
            subject: document.getElementById("subject").value,
            message:
              messageFinal + "\n\n" + document.getElementById("message").value,
          };
          messageDiv.textContent =
            "Votre message a √©t√© bel et bien envoy√©, Nous allons trait√© votre cas dans un plus bref delai. Merci de votre confiance !.";
          messageDiv.className = "form-message success";

          // R√©activer le bouton
          submitBtn.disabled = false;
          submitBtn.textContent = "Envoyer le message";

          // Optionnel: r√©initialiser le formulaire apr√®s un d√©lai
          setTimeout(() => {
            form.reset();
            messageDiv.textContent = "";
            messageDiv.className = "form-message";
          }, 2000);

          //Mise en place du systme de plusieurs mail en toute securit√© depuis EmailJS

          if (emailjsAvailable && typeof emailjs !== "undefined") {
            emailjs.send("service_r75jbc8", "template_7r3kn6t", formData).then(
              function (response) {
                console.log("Email envoy√© via EmailJS");
              },
              function (error) {
                console.log("Erreur EmailJS, mailto utilis√©");
              }
            );
          }
        });
    </script>
    <style>
      .contact-section {
        max-width: 1200px;
        margin: 0 auto;
      }

      .contact-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 50px;
        margin-top: 40px;
      }

      .contact-info h2 {
        color: #6c5ce7;
        margin-bottom: 30px;
        font-size: 2em;
      }

      .info-item {
        display: flex;
        gap: 20px;
        margin-bottom: 30px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
      }

      .info-icon {
        font-size: 2em;
      }

      .info-item h3 {
        color: #ffffff;
        margin-bottom: 5px;
      }

      .info-item p {
        color: #b0b0b0;
      }

      .contact-form {
        background: rgba(255, 255, 255, 0.05);
        padding: 40px;
        border-radius: 20px;
      }

      .contact-form h2 {
        color: #6c5ce7;
        margin-bottom: 30px;
        font-size: 2em;
      }

      .form-group {
        margin-bottom: 25px;
      }

      .form-group label {
        display: block;
        margin-bottom: 10px;
        color: #d0d0d0;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 15px;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        color: #ffffff;
        font-family: inherit;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #6c5ce7;
      }

      .btn-submit {
        width: 100%;
        padding: 15px;
        background: linear-gradient(135deg, #6c5ce7 0%, #5a4fcf 100%);
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
      }

      .form-message {
        margin-top: 20px;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
      }

      .form-message.success {
        background: rgba(46, 213, 115, 0.2);
        color: #2ed573;
        border: 1px solid rgba(46, 213, 115, 0.5);
      }

      @media (max-width: 768px) {
        .contact-container {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </body>
</html>
